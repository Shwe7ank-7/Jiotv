<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>JioTV+</title>

<style>
body {
  margin:0;
  background:#0b1220;
  color:white;
  font-family: Arial;
}

header {
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:15px;
  background:#020617;
}

#menu {
  position:fixed;
  top:60px;
  left:-220px;
  width:200px;
  height:100%;
  background:#020617;
  padding:10px;
  transition:0.3s;
}

#menu button {
  width:100%;
  padding:10px;
  margin:5px 0;
  border:none;
  background:#1f2937;
  color:white;
  border-radius:8px;
}

#grid {
  padding:15px;
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:15px;
}

.card {
  background:#020617;
  border-radius:15px;
  padding:10px;
  text-align:center;
}

.card img {
  width:100%;
  border-radius:10px;
}

input {
  width:100%;
  padding:10px;
  border-radius:10px;
  border:none;
  margin:10px 0;
}
</style>
</head>

<body>

<header>
  <span onclick="toggleMenu()">â˜°</span>
  <b>JioTV+</b>
  <span onclick="toggleTheme()">ðŸŒ™</span>
</header>

<div id="menu"></div>

<div style="padding:15px">
  <input placeholder="Search channels..." oninput="search(this.value)">
</div>

<div id="grid"></div>

<script>
let DATA;
let CATEGORY="All";
let dark=true;

fetch("channels.json")
.then(r=>r.json())
.then(j=>{
  DATA=j;
  loadMenu();
  render();
});

function loadMenu(){
  const m=document.getElementById("menu");
  DATA.categories.forEach(c=>{
    const b=document.createElement("button");
    b.innerText=c;
    b.onclick=()=>{
      CATEGORY=c;
      toggleMenu();
      render();
    };
    m.appendChild(b);
  });
}

function render(q=""){
  const g=document.getElementById("grid");
  g.innerHTML="";
  DATA.channels
  .filter(c=>(CATEGORY==="All"||c.category===CATEGORY)&&c.name.toLowerCase().includes(q.toLowerCase()))
  .forEach(c=>{
    const d=document.createElement("div");
    d.className="card";
    d.innerHTML=`<img src="${c.logo}"><p>${c.name}</p>`;
    d.onclick=()=>location.href=`watch.html?id=${c.id}`;
    g.appendChild(d);
  });
}

function toggleMenu(){
  const m=document.getElementById("menu");
  m.style.left = m.style.left==="0px" ? "-220px":"0px";
}

function search(v){ render(v); }

function toggleTheme(){
  dark=!dark;
  document.body.style.background = dark ? "#0b1220":"#f5f5f5";
  document.body.style.color = dark ? "white":"black";
}
</script>

</body>
</html>
