<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SHWE7ANK JIOTV+</title>

<style>
:root{
--bg-primary:#0f172a;
--bg-secondary:#1e293b;
--text-primary:#f8fafc;
}
body{
margin:0;
font-family:system-ui;
background:var(--bg-primary);
color:var(--text-primary);
}
header{
position:sticky;
top:0;
background:var(--bg-secondary);
padding:15px;
display:flex;
justify-content:space-between;
}
.logo{
font-weight:800;
font-size:18px;
}
.search-container{
padding:15px;
}
input{
width:100%;
padding:12px;
border-radius:8px;
border:1px solid #334155;
background:var(--bg-secondary);
color:white;
}
#grid{
display:grid;
grid-template-columns:repeat(auto-fill,minmax(110px,1fr));
gap:12px;
padding:15px;
}
.card{
background:var(--bg-secondary);
border-radius:10px;
overflow:hidden;
cursor:pointer;
}
.card img{
width:100%;
aspect-ratio:16/9;
object-fit:contain;
background:#000;
}
.card-info{
padding:8px;
text-align:center;
font-size:11px;
font-weight:600;
}
#loader{
text-align:center;
padding:20px;
}
</style>
</head>
<body>

<header>
<div class="logo">SHWE7ANK+</div>
<div onclick="location.reload()" style="cursor:pointer">â†»</div>
</header>

<div class="search-container">
<input type="text" id="search" placeholder="Search Channels..." oninput="filterChannels()">
</div>

<div id="loader">Loading Channels...</div>
<div id="grid"></div>

<script>

let allChannels=[];

async function loadChannels(){

try{

const res=await fetch(
"https://pkll.xojiv79335.workers.dev/?list=1"
);

const data=await res.json();

/* ðŸ”¥ FIX HERE ðŸ”¥
Mapping your real JSON fields
*/

allChannels=data.map(c=>({
id:c.channel_id,
name:c.channel_name,
logo:c.channel_logo
}));

document.getElementById('loader').style.display="none";
renderChannels(allChannels);

}catch(e){
document.getElementById('loader').innerText=
"Failed To Load Channels";
}
}

function renderChannels(channels){
const grid=document.getElementById('grid');
grid.innerHTML="";

channels.forEach(c=>{
const card=document.createElement('div');
card.className="card";
card.onclick=()=>window.location.href=`watch.html?id=${c.id}`;

card.innerHTML=`
<img src="${c.logo||'https://via.placeholder.com/150?text=TV'}">
<div class="card-info">${c.name}</div>
`;

grid.appendChild(card);
});
}

function filterChannels(){
const q=document.getElementById('search').value.toLowerCase();
const filtered=allChannels.filter(c=>
c.name.toLowerCase().includes(q)
);
renderChannels(filtered);
}

loadChannels();

</script>
</body>
</html>
